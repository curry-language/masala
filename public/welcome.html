<div class="col-lg-8 mx-auto p-4 py-md-5">

<h2 style="text-align:center">
<a href="http://www.curry-lang.org" target="_blank"><img src="images/curry_flavor.png" alt="Curry"/></a>
</h2>

<h5>General</h5>
<p>
<b>Masala</b> is a web-based system to upload and publish
software packages written
in the declarative multi-paradigm language
<a href="http://www.curry-lang.org" target="_blank">Curry</a>.
The <a href="https://cpm.curry-lang.org" target="_blank">packages</a>
uploaded to Masala can easily be downloaded and installed
with the
<a href="http://www.curry-lang.org/tools/cpm" target="_blank">Curry Package Manager (CPM)</a>
on a local machine.
</p>

<h5>Uploading packages</h5>
<p>
Before uploading a new package or a new version of an existing package,
one has to register to Masala in order to get a validated account.
If you have a Masala account, there are two ways to upload a package:
<ol>
<li>
Via this web page:
Log in into Masala (see the buttons/links in the top-right part
of the web page).
After logging in, select "Upload a new package (version)"
in your user menu (top-right part of the web page).
Then you get a web page with a text area into which
you can copy the contents of the <code>package.json</code>
file of your package which you want to upload.
</li>
<li>
Via the Curry Package Manager CPM (version 3.2.0 or higher):
This is the preferred and simpler way:
Go into the source code of your package and
use the command <code>cypm upload</code> to upload this package.
This command first tests the package and, if this is successful,
uploads the package to Masala (you will be asked for your
login name and password of your Masala account).
</li>
</ol>
In both cases, the package specification must contain a
<code>source</code> field pointing to a git repository
or http address containing the source of your package.
This source will be downloaded and stored in Masala.
</p>
<p>
When you upload a new package, you are the <b>maintainer</b> of this package.
Later, you can also invite other registered users as maintainers
of your package. Note that only maintainers of a package
can upload new versions of the same package.
</p>
<p>
Package specifications require one or more categories
to which they belong. When uploading a package, the specified
categories must exist in the
<a href="?Category/list">current list of categories</a>.
If you want to add a new category to Masala,
please contact the system administrator
(e.g., via the right-top user menu when you are logged in).
</p>

<h5>Publishing packages</h5>
<p>
Packages or package versions are not immediately visible to other
Curry programmers so that they can download them via
<a href="http://www.curry-lang.org/tools/cpm" target="_blank">CPM</a>.
In order to <em>publish a package</em>, i.e.,
make a package visible and downloadable via CPM,
you must either be a trusted user
(ask the Masala administrator to upgrade you to a trusted user)
or inform the Masala administrator to publish your package.
This is necessary to avoid the publication of useless packages
or packages with unacceptable contents.
The administrator can be contacted inside Masala if you are logged in
(see the right-top user menu when you are logged in).
</p>
<p>
When a package has been published,
it is visible in Masala and ready for downloading,
but it might require some time to appear in the
<a href="https://cpm.curry-lang.org" target="_blank">documentation of all Curry packages</a>
since this is nightly generated.
</p>

<h5>Registration</h5>
<p>
You can freely register to Masala.
This is necessary to upload new packages or watch the activity
of other packages.
To register, use the "Login/Register" menu in the top-right corner.
For the registration, you need a valid email address which
is used to verify your account, sending lost passwords, etc.
This email address is not shown to other users of Masala.
You must also choose a public name which is shown with your uploaded
packages.
Later you can also decide to add a public email address to your profile.
In this case, this email address is shown to other users if they
want to contact you.
</p>

<h5>Further information</h5>
<ul>
<li>
Documentation of
<ul>
<li>
<a href="https://cpm.curry-lang.org/index.html" target="_blank">all published packages</a>
</li>
<li>
<a href="https://cpm.curry-lang.org/indexc.html" target="_blank">all categories of published packages</a>
</li>
<li>
<a href="https://cpm.curry-lang.org/indexv.html" target="_blank">recent uploads of published packages</a>
</li>
</ul>
</li>
<li>
Description of the
<a href="http://www.curry-lang.org/tools/cpm" target="_blank">Curry Package Manager</a>
</li>
</ul>

</div>
